<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hall of Magical Innovations</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;900&family=Cinzel+Decorative:wght@400;700&family=EB+Garamond:ital,wght@0,400;0,600;1,400&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="flashlight-overlay"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STARS BACKGROUND ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="stars-bg" id="starsBg"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOAST CONTAINER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CONFIRM DIALOG ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="confirm-overlay" id="confirmOverlay">
        <div class="confirm-box">
            <p id="confirmMsg">Are you sure?</p>
            <div class="confirm-btns">
                <button class="confirm-yes" id="confirmYes">Yes, Delete</button>
                <button class="confirm-no" id="confirmNo">Cancel</button>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE: LOGIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="page active" id="page-login">
        <div class="header">
            <div class="header-logo">
                <img src="assets/HPFULLGold.png" alt="Sanctum" style="height: 50px;">
                <span style="margin-left:12px; font-family:'Cinzel', serif; color:var(--gold); font-size:1.1rem; letter-spacing:1px;">Hall of Magical Innovations</span>
            </div>
            <div class="header-nav">
                <button onclick="castLumos()">‚ú® Lumos</button>
                <button onclick="castNox()">üåë Nox</button>
            </div>
        </div>
        <div class="login-container">
            <div class="login-box">
                <img src="assets/Platform.png" class="platform-badge" alt="9 3/4">
                <div class="login-title">‚ö° Hall of Magical Innovations</div>
                <div class="login-sub">Enter the magical realm of collaboration</div>
                <div class="tab-row">
                    <button class="tab-btn active" onclick="switchTab('login')">Login</button>
                    <button class="tab-btn" onclick="switchTab('signup')">Sign Up</button>
                </div>
                <!-- LOGIN FORM -->
                <div class="form-section active" id="form-login">
                    <div class="form-group"><label>Username</label><input type="text" id="login-user"
                            placeholder="Enter username" /></div>
                    <div class="form-group"><label>Password</label><input type="password" id="login-pass"
                            placeholder="Enter password" /></div>
                    <button class="submit-btn" onclick="doLogin()">Reveal the Path</button>
                </div>
                <!-- SIGNUP FORM -->
                <div class="form-section" id="form-signup">
                    <div class="form-group"><label>Username</label><input type="text" id="signup-user"
                            placeholder="Choose username" /></div>
                    <div class="form-group"><label>Email</label><input type="email" id="signup-email"
                            placeholder="Your email" /></div>
                    <div class="form-group"><label>Password</label><input type="password" id="signup-pass"
                            placeholder="Choose password" /></div>
                    <div class="form-group"><label>Confirm Password</label><input type="password" id="signup-pass2"
                            placeholder="Confirm password" /></div>
                    <button class="submit-btn" onclick="doSignup()">Cast the Spell</button>
                </div>
                <div class="msg" id="loginMsg"></div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE: HOUSES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="page" id="page-houses">
        <div class="header">
            <div class="header-logo" onclick="navigateTo('houses')">
                <img src="assets/HPFULLGold.png" alt="Sanctum" style="height: 50px;">
            </div>
            <div class="header-nav">
                <button onclick="castLumos()">‚ú® Lumos</button>
                <button onclick="castNox()">üåë Nox</button>
                <button class="owl-btn" onclick="navigateTo('owls')">ü¶â Owls <span class="owl-badge" id="owlBadge"
                        style="display:none">0</span></button>
                <button onclick="doLogout()">Logout</button>
            </div>
        </div>
        <div class="houses-page">
            <div class="houses-title">Where Do You Belong?</div>
            <div class="houses-sub">The Sorting Hat awaits your choice...</div>
            <div class="houses-grid" id="housesGrid"></div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE: HOUSE DETAIL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="page" id="page-house">
        <div class="header">
            <div class="header-logo" onclick="navigateTo('houses')">
                <img src="assets/HPFULLGold.png" alt="Sanctum" style="height: 50px;">
            </div>
            <div class="header-nav">
                <button onclick="castLumos()">‚ú® Lumos</button>
                <button onclick="castNox()">üåë Nox</button>
                <button class="owl-btn" onclick="navigateTo('owls')">ü¶â Owls <span class="owl-badge" id="owlBadge2"
                        style="display:none">0</span></button>
                <button onclick="navigateTo('houses')">‚Üê Houses</button>
                <button onclick="doLogout()">Logout</button>
            </div>
        </div>
        <div class="house-detail">
            <div class="hd-header">
                <button class="hd-back" onclick="navigateTo('houses')">‚Üê Back</button>
                <div class="hd-emoji" id="hd-emoji">
                    <img src="assets/gryffindor.png" alt="gryffindor">
                </div>
                <div class="hd-info">
                    <div class="hd-name" id="hd-name">Gryffindor</div>
                    <div class="hd-domain" id="hd-domain">Artificial Intelligence</div>
                </div>
                <div class="hd-actions">
                    <button class="add-project-btn" onclick="openAddProject()">‚ú® Add Project</button>
                </div>
            </div>
            <div class="books-grid" id="booksGrid"></div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE: OWLS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="page" id="page-owls">
        <div class="header">
            <div class="header-logo" onclick="navigateTo('houses')">
                <img src="assets/HPFULLGold.png" alt="Sanctum" style="height: 50px;">
            </div>
            <div class="header-nav">
                <button onclick="castLumos()">‚ú® Lumos</button>
                <button onclick="castNox()">üåë Nox</button>
                <button onclick="navigateTo('houses')">‚Üê Houses</button>
                <button onclick="doLogout()">Logout</button>
            </div>
        </div>
        <div class="owl-panel">
            <div class="owl-title">ü¶â Owl Post</div>
            <div class="owl-sub">Review collaboration requests & track your sent owls</div>
            <div class="owl-sections">
                <div>
                    <div class="owl-section-title">üì¨ Incoming Requests</div>
                    <div id="owlIncoming">
                        <div class="owl-empty">No incoming owls</div>
                    </div>
                </div>
                <div>
                    <div class="owl-section-title">üì§ Sent Owls</div>
                    <div id="owlSent">
                        <div class="owl-empty">No owls sent yet</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL: ADD / EDIT PROJECT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="modal-overlay" id="modalAddProject">
        <div class="modal" style="border: 2px solid var(--gold); background: #000; box-shadow: 0 0 50px rgba(212,175,55,0.15);">
            <button class="modal-close" onclick="closeModal('modalAddProject')">‚úï</button>
            <div class="modal-title" id="modalProjectTitle" style="font-family:'Cinzel Decorative'; font-size:1.5rem; text-shadow:0 0 10px rgba(212,175,55,0.5)">Use The Spell üåü</div>
            <input type="hidden" id="editProjectId" value="" />
            
            <div class="form-group">
                <label style="color:var(--gold)">Project Title</label>
                <input type="text" id="proj-name" placeholder="Enter magical title..." style="background:transparent; border:1px solid #444;" />
            </div>

            <div class="form-group">
                <label style="color:var(--gold)">Description (Spell Details)</label>
                <textarea id="proj-desc" placeholder="Describe the effects of your spell..." style="background:transparent; border:1px solid #444;"></textarea>
            </div>

            <div class="form-group">
                <label style="color:var(--gold)">Tech Stack (Incantations Used)</label>
                <input type="text" id="proj-tech" placeholder="HTML, CSS, Levitation Charm..." style="background:transparent; border:1px solid #444;" />
            </div>

            <div class="form-group">
                <label style="color:var(--gold)">House Allegiance</label>
                <select id="proj-house" style="width:100%; padding:10px; background:rgba(0,0,0,0.5); border:1px solid #444; color:#ddd; border-radius:10px; outline:none; font-family:'EB Garamond'; font-size:1rem;">
                    <option value="gryffindor">Gryffindor</option>
                    <option value="slytherin">Slytherin</option>
                    <option value="ravenclaw">Ravenclaw</option>
                    <option value="hufflepuff">Hufflepuff</option>
                </select>
            </div>

            <div class="form-group">
                <label style="color:var(--gold)">Project Snapshot (Image)</label>
                <div style="border:1px dashed #444; padding:20px; border-radius:10px; text-align:center; position:relative; cursor:pointer;" onclick="document.getElementById('proj-file').click()">
                    <span id="file-label" style="font-size:0.9rem; color:#888;">Click to Select File</span>
                    <input type="file" id="proj-file" accept="image/*" style="display:none" onchange="handleFileSelect(this)"/>
                </div>
                <div id="file-preview" style="margin-top:10px; display:none; justify-content:center;">
                    <img id="preview-img" src="" style="max-height:100px; border-radius:5px; border:1px solid #444;">
                </div>
            </div>
            
            <!-- Hidden field for keeping Student Name if needed, or we can use Current User -->
            <div class="form-group" style="display:none">
                <label>Your Name</label>
                <input type="text" id="proj-student" />
            </div>

            <button class="submit-btn" id="saveProjectBtn" onclick="saveProject()" style="background:transparent; border:1px solid var(--gold); color:var(--gold);">REVEALER INNOVATION ü™Ñ</button>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL: SEND OWL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="modal-overlay" id="modalSendOwl">
        <div class="modal">
            <button class="modal-close" onclick="closeModal('modalSendOwl')">‚úï</button>
            <div class="modal-title">ü¶â Send Collaboration Owl</div>
            <input type="hidden" id="owlProjectId" value="" />
            <div class="form-group"><label>Project</label><input type="text" id="owlProjectName" readonly
                    style="opacity:.6" /></div>
            <div class="form-group"><label>Owner</label><input type="text" id="owlOwnerName" readonly
                    style="opacity:.6" /></div>
            <div class="form-group"><label>Message (optional)</label><textarea id="owlMessage"
                    placeholder="Write a note to the project owner‚Ä¶"></textarea></div>
            <button class="submit-btn" onclick="sendOwl()">ü¶â Send Owl</button>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>

</html>
